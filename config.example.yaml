# AgentColab 配置文件示例
# 复制此文件为 config.yaml 并填入你的API密钥

# ==================== API密钥配置 ====================
# 注意：为了安全，建议使用环境变量而不是在配置文件中直接填写
# 环境变量的优先级高于配置文件
api_keys:
  # 方式1: 留空，使用环境变量（推荐）
  # 方式2: 直接填写（不推荐，仅用于测试）
  google_api_key: ""        # 或设置环境变量: GOOGLE_API_KEY
  deepseek_api_key: ""      # 或设置环境变量: DEEPSEEK_API_KEY
  anthropic_api_key: ""     # 或设置环境变量: ANTHROPIC_API_KEY
  gptsapi_key: ""           # 或设置环境变量: GPTSAPI_KEY (第三方API)
  mineru_api_key: ""        # 或设置环境变量: MINERU_API_KEY

# ==================== API配置 ====================
api:
  # Google Gemini API配置（仅连接信息）
  gemini:
    # model 在各Agent配置中指定
    temperature: 0.7
    top_p: 1
    top_k: 1
    max_output_tokens: 8192
  
  # DeepSeek API配置（仅连接信息）
  deepseek:
    base_url: "https://api.deepseek.com"
    # model 在各Agent配置中指定
    temperature: 0.7
    max_tokens: 4096
  
  # GptsApi (第三方Gemini/OpenAI兼容服务) 配置
  gptsapi:
    base_url: "https://api.gptsapi.net/v1"  # 第三方OpenAI兼容接口
    # model 在各Agent配置中指定
    temperature: 0.7
    max_tokens: 8192
    # stream: true  # 启用流式传输，避免Cloudflare 100秒超时
  
  # Claude API配置（仅连接信息）
  claude:
    # model 在各Agent配置中指定
    temperature: 0.7
    max_tokens: 4096
  
  # MinerU API配置（可选，用于PDF提取）
  mineru:
    base_url: "https://mineru.net/api/v4"
    timeout: 300
    model_version: "vlm"  # pipeline 或 vlm
    enable_formula: true   # 是否识别公式
    enable_table: true     # 是否识别表格
    language: "ch"         # 文档语言

# ==================== 目录配置 ====================
directories:
  base_dir: "data"
  input: "data/input"          # PDF输入目录
  extracted: "data/extracted"  # 提取后的文本
  cleaned: "data/cleaned"      # 清洗后的文本
  analyzed: "data/analyzed"    # 分析结果
  ideas: "data/ideas"          # 生成的ideas
  code: "data/code"            # 生成的代码
  logs: "logs"                 # 日志目录

# ==================== 日志配置 ====================
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  date_format: "%Y-%m-%d %H:%M:%S"
  file_prefix: "agentcolab"

# ==================== 流程控制配置 ====================
pipeline:
  # 是否在每个模块后自动保存结果
  auto_save: true
  
  # 是否在出错时继续处理下一个文件
  continue_on_error: true
  
  # PDF提取配置
  pdf_extraction:
    use_mineru: false         # 优先使用MinerU（如果可用）
    fallback_to_pypdf2: true  # MinerU失败时使用PyPDF2
    mineru_model: "vlm"       # MinerU模型版本 (pipeline/vlm)
    max_wait_time: 600        # 最大等待时间（秒）
    poll_interval: 5          # 轮询间隔（秒）
  
  # 论文清洗配置
  paper_cleaning:
    enabled: true  # 是否启用清洗步骤
  
  # 论文分析配置
  paper_analysis:
    api_provider: "deepseek"  # 使用的API: deepseek, gemini, claude, gptsapi
    model: "deepseek-chat"    # 模型名称
    temperature: 0.7          # 温度参数
    max_tokens: 4096          # 最大输出token数
  
  # 想法生成配置
  idea_generation:
    api_provider: "deepseek"  # 使用的API: deepseek, gemini, claude, gptsapi
    model: "deepseek-chat"    # 模型名称
    temperature: 0.8          # 温度参数
    max_tokens: 8192          # 最大输出token数
    min_ideas: 3              # 最少生成的idea数量
    score_threshold: 60       # 最低分数阈值
  
  # 想法筛选配置
  idea_selection:
    api_provider: "deepseek"  # 使用的API: deepseek, gemini, claude, gptsapi
    model: "deepseek-chat"    # 模型名称
    temperature: 0.5          # 温度参数
  
  # 想法详细化配置
  idea_detailing:
    api_provider: "deepseek"  # 使用的API: deepseek, gemini, claude, gptsapi
    model: "deepseek-chat"    # 模型名称
    temperature: 0.7          # 温度参数
    max_tokens: 4096          # 最大输出token数
  
  # 代码生成配置
  code_generation:
    api_provider: "deepseek"  # 使用的API: deepseek, gemini, claude, gptsapi
    model: "deepseek-chat"    # 模型名称
    temperature: 0.7          # 温度参数
    max_tokens: 4096          # 最大输出token数
    max_iterations: 3         # 自动修复最大迭代次数

# ==================== 提示词配置 ====================
prompts:
  # 可以在这里覆盖默认的prompt模板
  # 留空则使用代码中定义的默认值
  paper_cleaning: ""
  paper_translation: ""
  paper_summary: ""
  idea_generation: ""
  idea_detailing: ""
  code_generation: ""

# ==================== 其他配置 ====================
misc:
  # 是否在生成代码后自动运行语法检查
  auto_lint_code: false
  
  # 最大并发处理数（未来可能用于并行处理）
  max_workers: 3
  
  # 输出详细信息
  verbose: true
